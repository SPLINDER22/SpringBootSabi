<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Diagn√≥stico</title>
</head>

<body th:replace="layout/layout :: layout('Diagn√≥stico', ~{::section})">
    <section th:fragment="section">
        <header th:replace="~{fragments/header :: navbar}"></header>
        <main class="main-content">
            <div class="category-section">
                <div class="category-header">
                    <h3>üìã Mi Diagn√≥stico</h3>
                    <div class="category-status" th:classappend="${tieneDiagnostico} ? 'completed' : 'pending'">
                        <span th:if="${tieneDiagnostico}" class="status-text">‚úÖ Completado</span>
                        <span th:unless="${tieneDiagnostico}" class="status-text">‚è≥ Pendiente</span>
                    </div>
                </div>
                <div class="category-content">
                    <div th:if="${tieneDiagnostico == true}" class="diagnostic-info">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Fecha del diagn√≥stico:</span>
                                <span class="info-value"
                                    th:text="${#temporals.format(diagnosticoActual.fecha, 'dd/MM/yyyy')}">--</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Nivel de experiencia:</span>
                                <span class="info-value" th:text="${diagnosticoActual.nivelExperiencia}">--</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Peso actual:</span>
                                <span class="info-value"
                                    th:text="${diagnosticoActual.peso + ' kg'}">-- kg</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Estatura:</span>
                                <span class="info-value"
                                    th:text="${diagnosticoActual.estatura + ' cm'}">-- cm</span>
                            </div>
                        </div>
                        <div class="category-actions">
                            <button class="btn btn-secondary"
                                onclick="window.location.href='/diagnostico/cliente/ver'">
                                Ver Diagn√≥stico Completo
                            </button>
                            <button class="btn btn-outline"
                                onclick="window.location.href='/cliente/diagnostico/crear'">
                                Actualizar Diagn√≥stico
                            </button>
                        </div>
                    </div>
                    <div th:if="${tieneDiagnostico != true}" class="diagnostic-empty">
                        <p>¬°A√∫n no has realizado tu diagn√≥stico! Esto es fundamental para recibir un plan personalizado.
                        </p>
                        <button class="btn btn-primary" onclick="window.location.href='/cliente/diagnostico/crear'">
                            Realizar Diagn√≥stico
                        </button>
                    </div>
                </div>
            </div>
        </main>
        <footer th:replace="~{fragments/footer :: footer}"></footer>
    </section>
</body>

</html>
